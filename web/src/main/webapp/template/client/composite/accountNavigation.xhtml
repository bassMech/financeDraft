<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
	<div class="grid">
		<div class="col-4">
			<div class="flex justify-content-start">
				<p:fieldset legend="#{tags['account']}">
					<div class="flex align-content-center gap-1">
						<p:selectOneMenu id="accountSelect"
							value="#{accountView.selectedAccountId}" style="width:150px"
							disabled="#{noAccountExists}">
							<p:ajax listener="#{accountView.onAccountChanged}"
								update="transactions" />
							<f:selectItems value="#{accountView.selectableAccounts}"
								var="account" itemLabel="#{account.title}"
								itemValue="#{account.id}" />
						</p:selectOneMenu>
						<p:commandButton icon="pi pi-plus"
							action="#{accountView.openAccountDetailDialogNew}"
							process="@this" update="accountDetailDialog"></p:commandButton>
						<p:commandButton icon="pi pi-pencil"
							action="#{accountView.openAccountDetailDialogEdit}"
							process="@this" update="accountDetailDialog"
							disabled="#{noAccountExists}"></p:commandButton>
					</div>
				</p:fieldset>
				<p:fieldset legend="#{tags['draft']}">
					<div class="flex align-content-center gap-1">
						<p:commandButton icon="pi pi-list"
							action="#{accountView.onShowDraftList}" process="@this" update=""
							disabled="#{noAccountExists}"></p:commandButton>
						<p:commandButton icon="pi pi-plus"
							action="#{accountView.onDraftNew}" process="@this"
							update="transactionDetailDialog" disabled="#{noAccountExists}"></p:commandButton>
					</div>
				</p:fieldset>
			</div>
		</div>
		<div class="col-4 flex justify-content-evenly">

			<p:fieldset legend="#{tags['month']}">
				<div class="flex align-content-center gap-1">
					<p:commandButton icon="pi pi-chevron-left"
						action="#{accountView.onPreviousMonthClick}" process="@this"
						update="monthSelect, yearSelect, transactions"
						disabled="#{noAccountExists}" />
					<p:selectOneMenu id="monthSelect"
						value="#{accountView.selectedMonth}" style="width:150px"
						disabled="#{noAccountExists}">
						<p:ajax listener="#{accountView.onMonthChanged}"
							update="transactions" />
						<f:selectItems value="#{accountView.selectableMonths.entrySet()}"
							var="month" itemLabel="#{month.value}" itemValue="#{month.key}" />
					</p:selectOneMenu>
					<p:commandButton icon="pi pi-chevron-right"
						action="#{accountView.onNextMonthClick}" process="@this"
						update="monthSelect, yearSelect, transactions"
						disabled="#{noAccountExists}" />
				</div>
			</p:fieldset>

			<p:fieldset legend="#{tags['year']}">
				<div class="flex align-content-center gap-1">
					<p:commandButton icon="pi pi-chevron-left"
						action="#{accountView.onPreviousYear}" process="@this"
						update="monthSelect, yearSelect, transactions"
						disabled="#{noAccountExists}" />
					<p:selectOneMenu id="yearSelect"
						value="#{accountView.selectedYear}" style="width:150px"
						disabled="#{noAccountExists}">
						<p:ajax listener="#{accountView.onYearChanged}"
							update="transactions" />
						<f:selectItems value="#{accountView.selectableYears}" var="year"
							itemLabel="#{year}" itemValue="#{year}" />
					</p:selectOneMenu>
					<p:commandButton icon="pi pi-chevron-right"
						action="#{accountView.onNextYear}" process="@this"
						update="monthSelect, yearSelect, transactions"
						disabled="#{noAccountExists}" />
				</div>
			</p:fieldset>
		</div>
		<div class="col-4 flex justify-content-end">
			<div class="flex align-self-center">
				<p:commandButton icon="pi pi-bars" disabled="#{noAccountExists}" />
			</div>
		</div>
	</div>

</ui:composition>