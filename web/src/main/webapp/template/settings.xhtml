<ui:composition template="/WEB-INF/layout.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui">

	<ui:define name="metadata">
		<title>#{tags['settings']}</title>
		<f:metadata>
			<f:event type="preRenderView" listener="#{accountView.checkLanguageChange()}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">
		<h:outputStylesheet name="settings.css" library="style" />
		<h1 class="flex justify-content-center">#{tags['settings']}</h1>

		<div class="grid">
			<div class="col-2 col-offset-4 flex justify-content-end align-content-center">
				<h:outputLabel class="flex align-items-center" value="#{tags['language']}" />
			</div>
			<div class="col-2 flex justify-content-start align-content-center">
				<p:selectOneMenu id="languageSelect" value="#{settingsView.selectedLanguage}">
					<f:selectItems value="#{settingsView.selectableLanguages.entrySet()}" var="language" 
						itemLabel="#{language.value}" itemValue="#{language.key}" />
				</p:selectOneMenu>
			</div>
		</div>

		<div class="grid">
			<div class="col-2 col-offset-4 flex justify-content-end align-content-center">
				<h:outputLabel class="flex align-items-center" value="#{tags['currency']}" />
			</div>
			<div class="col-2 flex justify-content-start align-content-center">
				<p:selectOneMenu id="currencySelection" value="#{settingsView.selectedCurrency}">
					<p:ajax listener="#{settingsView.onCurrencyChange}" />
					<f:selectItems value="#{settingsView.selectableCurrencies.entrySet()}" var="currency" itemLabel="#{currency.value}"  
					itemValue="#{currency.key}"/>
				</p:selectOneMenu>
			</div>
		</div>

		<div class="grid">
			<div class="col-2 col-offset-6 flex justify-content-start">
				<p:commandButton value="Save" action="#{settingsView.saveSettings()}" process="@form" update="@form"></p:commandButton>
			</div>
		</div>

	</ui:define>
</ui:composition>